{% from 'general_components.html' import iconBtnContent %}
{% from 'form.html' import text_input %}

{# Later TODO: Move this svg to assets folder #}
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">
    <symbol id="star" fill="currentColor" ><g transform="scale(0.03125 0.03125)"><path d="M896 384l-313.5-40.781-134.5-279.219-134.531 279.219-313.469 40.781 230.469 208.875-59.469 303.063 277-148.812 277.062 148.812-59.562-303.063 230.5-208.875z" /></g></symbol>
    <symbol id="no_rating" viewBox="0 0 18 18" fill="currentColor" ><g transform="scale(0.017578125 0.017578125)"><path d="M512 56.889c-251.362 0-455.111 203.749-455.111 455.111s203.749 455.111 455.111 455.111 455.111-203.749 455.111-455.111-203.749-455.111-455.111-455.111zM170.667 512c0-73.639 23.666-141.694 63.472-197.527l475.388 475.388c-55.833 39.806-123.888 63.472-197.527 63.472-188.222 0-341.333-153.111-341.333-341.333zM789.861 709.527l-475.388-475.388c55.833-39.806 123.888-63.472 197.527-63.472 188.222 0 341.333 153.111 341.333 341.333 0 73.639-23.666 141.694-63.472 197.527z" /></g></symbol>
    <symbol id="tableSvg"  fill="currentColor" class="bi bi-table" viewBox="0 0 16 16"><path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm15 2h-4v3h4zm0 4h-4v3h4zm0 4h-4v3h3a1 1 0 0 0 1-1zm-5 3v-3H6v3zm-5 0v-3H1v2a1 1 0 0 0 1 1zm-4-4h4V8H1zm0-4h4V4H1zm5-3v3h4V4zm4 4H6v3h4z"/></symbol>
    <symbol id="listSvg" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></symbol>
</svg>

{% macro radio_icon_btn_input(name, id, svg_href, icon_w, icon_h, label_text, label_class='', checked=false) %}
<input type="radio" class="btn-check" name="view_layout" id="{{ id }}" autocomplete="off" {% if checked %}checked{% endif %}>
<label class="btn {{ label_class }}" for="{{ id }}">
    <svg aria-hidden="true" focusable="false" width="{{ icon_w }}" height="{{ icon_h }}">
        <use href="{{ svg_href }}" xlink:href="{{ svg_href }}"/>
    </svg>
    <span class="mt-2">{{ label_text }}</span>
</label>
{% endmacro %}

<form action="{{ url_for( 'update_view_basics', view=views.current.name) }}"
    method="POST" onsubmit="announceSave()" id="viewBasicForm" class="">
    {{ text_input(label='Name', id='viewName', name='name', value=views.current.name, container_class='mb-3 fs-4') }}
    <fieldset class="layout-radios">
        <legend class="mt-3 fs-4">
        Layout
        </legend>
    
            <div id="layoutRadiosContainer" class="d-flex justify-content-center p-4">

                {% set label_class = 'icon-radio d-flex flex-column align-items-center gx-2' %}
                {% set checkedTable = false %}
                {% set checkedList = false %}
                {% set checkedTable = true if views.current.layout == 'table' %}
                {% set checkedList = true if views.current.layout != 'table'  %}
                                
                <div>
                {{ radio_icon_btn_input(name='view_layout', id='tableLayoutRadio', svg_href='#tableSvg', icon_w='40', icon_h='40', label_text='TABLE', label_class=label_class, checked=checkedTable) }}
                </div>
                <div>
                {{ radio_icon_btn_input(name='view_layout', id='listLayoutRadio', svg_href='#listSvg', icon_w='40', icon_h='40', label_text='LIST', label_class=label_class, checked=checkedList) }}
                </div>

            </div>
      
    </fieldset>
</form>